name: Sync License Files

on:
  push:
    branches:
      - main
  schedule:
    - cron: '0 0 * * 1'  # Executa toda segunda-feira
  workflow_dispatch:  # Permite execução manual

jobs:
  sync-license:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: derberg/manage-files-in-multiple-repositories@v2
        with:
          github_token: ${{ secrets.PERSONAL_TOKEN }}
          patterns_to_include: 'README.md, LICENSE, LICENSE.md'
          repos_to_include: 'cliente-core,AppTestClienteCore'
          commit_message: 'Atualizar arquivos de licença'
